---
path: /post/react-hooks
title: React Hooks
author: ê¹€í¬ì² 
date: "2020-05-03 21:54:35"
tags:
  - react
draft: false
---

```toc

```

## ì†Œê°œ

React Hooks ëŠ” React 16.8 ë²„ì „ì— ìƒˆë¡œ ë„ìž…ëœ ê¸°ëŠ¥ìž…ë‹ˆë‹¤. Hook ì€ ì–´ë–¤ ì¼ë ¨ì˜ ê³¼ì •ì¤‘ì— ì¼ì–´ë‚˜ëŠ” ì‹œì ì„ ë§í•˜ëŠ”ë° React Hooks ëŠ” í´ëž˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©ë˜ë˜ LifeCycle API ë¥¼ ëŒ€ì²´í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

> ê¸°ì¡´ì˜ í´ëž˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ë¥¼ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì™€ React Hooks ë¡œ ëŒ€ì²´í•´ì•¼í•˜ëŠ” ê²ƒì„ ëœ»í•˜ì§„ ì•ŠìŠµë‹ˆë‹¤. [React ëŠ” í´ëž˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ë¥¼ ì—†ì•¨ ê³„íšì€ ì—†ë‹¤](https://ko.reactjs.org/docs/hooks-intro.html#no-breaking-changes)ê³  ë°í˜”ìŠµë‹ˆë‹¤.

## React Hooks ë¥¼ ê¼­ ì‚¬ìš©í•´ì•¼í•˜ë‚˜ìš”?

í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì˜ React Hooks ëŠ” í´ëž˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ë¥¼ ëŒ€ì²´í•  ìˆ˜ ìžˆì§€ë§Œ í•„ìˆ˜ê°€ ì•„ë‹ˆê³  ì„ íƒì ìœ¼ë¡œ ì ìš©í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ì„ íƒì ì¸ ì´ìœ ëŠ” ê¸°ì¡´ì˜ í´ëž˜ìŠ¤ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•˜ë˜ props, render ë“±ì˜ ê°œë…ë“¤ì„ ë°”ê¿”ì„œ ì ìš©í•˜ëŠ”ê²ƒì´ ì•„ë‹ˆê¸° ë•Œë¬¸ìž…ë‹ˆë‹¤.

## ë¬´ì—‡ì´ ë‹¬ë¼ì¡Œë‚˜ìš”?

í´ëž˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ìž¬ì‚¬ìš©ì„±ì— ëŒ€í•œ ë¶ˆíŽ¸í•¨ì´ ìžˆì—ˆìŠµë‹ˆë‹¤.

ë¦¬ì•¡íŠ¸ëŠ” ì»´í¬ë„ŒíŠ¸ì— ìž¬ì‚¬ìš© ê°€ëŠ¥í•œ ë¡œì§ì„ ë¶™ì´ëŠ” ë°©ë²•ì„ ì œê³µí•˜ì§€ ì•Šì•„ render props ë‚˜ HOC(Higher Order Component) ë“± ì—¬ëŸ¬ê°€ì§€ íŒ¨í„´ì´ ë“±ìž¥í–ˆì§€ë§Œ í´ëž˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì˜ LifeCycle ì—ì„œëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸(fetch)ì˜¤ê±°ë‚˜ êµ¬ë…(subscribe) í•˜ëŠ” ë“±ê³¼ ê°™ì€ í–‰ë™ê³¼ ê´€ë ¨ëœ ë¡œì§ë“¤ì´ ì—¬ì „ížˆ ì¡´ìž¬í–ˆê³  ì´ëŠ” ì»´í¬ë„ŒíŠ¸ì— ì—¬ëŸ¬ ì˜ì¡´ì„±ì´ ì„žì—¬ìžˆì–´ ì½”ë“œë„ ë³µìž¡í•´ì§€ë©° í…ŒìŠ¤íŠ¸ë„ ì–´ë ¤ì› ìŠµë‹ˆë‹¤.

ê·¸ëž˜ì„œ React Hooks ëŠ” í´ëž˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í–ˆë˜ LifeCycle ë©”ì„œë“œì— ì´ˆì ì„ ë‘ì§€ ì•Šê³  **ë¡œì§ì˜ ìž¬ì‚¬ìš©ì„±ì— ì´ˆì ì„ ë‘ì—ˆìŠµë‹ˆë‹¤.**

> render props íŒ¨í„´ê³¼ HOC íŒ¨í„´ì€ ë‹¤ìŒì— ë‹¤ë£¨ë„ë¡ í•©ë‹ˆë‹¤.

## ì£¼ìš” Hooks

ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ” hooks ë¥¼ ì‚´íŽ´ë³´ê² ìŠµë‹ˆë‹¤.

- useState
- useEffect
- useCallback
- useMemo

### useState

```jsx
const [state, setState] = useState(InitialState)
```

useState ëŠ” ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” ê°’ê³¼ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. useState ì˜ ì¸ìžë¡œ ìµœì´ˆ ë Œë”ë§ì‹œ ì ìš©í•  ìƒíƒœë¥¼ ë„˜ê²¨ì¤„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

setState ëŠ” ë¹„ë™ê¸°ì ìœ¼ë¡œ ìž‘ë™í•©ë‹ˆë‹¤. ì¼ì¢…ì˜ 'ìš”ì²­' ê³¼ ê°™ë‹¤ê³  ë³´ë©´ ë˜ëŠ”ë° ë§Œì•½ ì´ì „ì˜ ìƒíƒœë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë¥¼ í•˜ê³  ì‹¶ë‹¤ë©´ setState ì˜ ì¸ìžë¡œ ì½œë°±í•¨ìˆ˜ë¥¼ ë“±ë¡í•˜ë©´ë©ë‹ˆë‹¤.

> setState ëŠ” ìƒˆë¡œìš´ state ë¥¼ ë°›ì•„ì„œ ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§ íì— ë“±ë¡í•˜ê¸° ë•Œë¬¸ì— ë™ê¸°ì ì¼ ê²ƒì´ë¼ê³  ë³´ìž¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

```jsx
/* ì´ì „ ê°’ì„ prevState ë¡œ ë°›ê³  nextState ë¥¼ return */

setState(prevState => {
  // ...
  return nextState
})
```

ì´ˆê¸° ìƒíƒœê°’ì— ëŒ€í•´ ë¹„ìš©ì´ ë§Žì´ë“œëŠ” ìž‘ì—…ì´ ìžˆë‹¤ë©´ ìµœì´ˆ ë Œë”ë§ì‹œì—ë§Œ ì‹¤í–‰ë˜ê²Œ useState ì˜ ì²«ë²ˆì§¸ ì¸ìžë¡œ ì½œë°±í•¨ìˆ˜ë¥¼ ë„˜ê²¨ì¤„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

```jsx
const [state, setState] = useState(() => { ... })
```

#### ê¸°ë³¸ ì˜ˆì œ ì½”ë“œ

```jsx
import { useState } from "react"

const SomeComponent = () => {
  const [text, setText] = useState("")
  return <input value={text} onChange={e => setText(e.target.value)} />
}

export default SomeComponent
```

### useEffect

```jsx
import React from "react"

useEffect(didUpdate)
```

useEffectëŠ” í´ëž˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•˜ë˜ `componentDidMount`, `componentDidUpdate`, `componentWillUnMount` ì„ í•©ì³ë†“ì•˜ìŠµë‹ˆë‹¤. Effect(ë³€í˜•, êµ¬ë…, íƒ€ì´ë¨¸ ë“±) ë¥¼ ë°œìƒì‹œí‚¤ê¸° ë•Œë¬¸ì— í•¨ìˆ˜ì˜ ë³¸ë¬¸ì•ˆì—ì„œ ì‹¤í–‰í•˜ì§€ ì•Šê³  ì „ë‹¬í•œ í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.

ê¸°ë³¸ì ìœ¼ë¡œ useEffect ëŠ” **ëª¨ë“  ë Œë”ë§ì´ ëë‚œ ì´í›„ì— ì‹¤í–‰ë©ë‹ˆë‹¤.**

> ì •í™•ížˆëŠ” [ë¸Œë¼ìš°ì €ì˜ ë Œë”ë§](https://d2.naver.com/helloworld/59361)ì—ì„œ Layout ë‹¨ê³„ì™€ Painting ë‹¨ê³„ê°€ ëë‚œ ì´í›„ì— ë°œìƒí•©ë‹ˆë‹¤.

```jsx
/**
  SomeComponent ê°€ ë Œë”ë§ ëœ ì´í›„ useEffect ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.

  render
  useEffect
*/
import React, { useEffect } from "react"

const SomeComponent = () => {
  useEffect(() => {
    console.log("useEffect")
  })
  console.log("render")
  return <div>render</div>
}

export default SomeComponent
```

useEffectëŠ” ë‘ ë²ˆì§¸ ì¸ìžë¡œ ì˜ì¡´ì„±ì„ ê°–ëŠ” ê°’ì„ ë°°ì—´ë¡œ ë„£ì–´ì¤„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ë¹ˆ ë°°ì—´ì„ ì¤€ë‹¤ë©´ ê¸°ë³¸(ëª¨ë“  ë Œë”ë§ì´ ëë‚œ ì´í›„ í•œ ë²ˆ)ìœ¼ë¡œ ì ìš©ë˜ê³ , effect ê°€ ì¢…ì†ë˜ì–´ ìžˆëŠ” ê°’ë“¤ì„ ë„£ê²Œë˜ë©´ ê·¸ ê°’ë“¤ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ effect ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.

ë§Œì•½, effect ê°€ ì‹¤í–‰ë  ë•Œ ì˜ì¡´ë˜ëŠ” ê°’ë“¤ì´ ë°°ì—´ë¡œ ì˜¤ì§€ ì•ŠëŠ”ë‹¤ë©´ effectê°€ ì‹¤í–‰ë  ë•Œ ì˜ì¡´ë˜ëŠ” ê°’ë“¤ì€ ì´ˆê¸°ì— í• ë‹¹ ëœ ê°’ë“¤ì„ ê°€ì§€ê³  ìžˆì„ ê±°ì—ìš”.

```jsx
useEffect(() => {
  console.log("useEffect")
}, [dep1, dep2])
// dep1, dep2 ì¤‘ í•˜ë‚˜ë¼ë„ ê°’ì´ ë³€ê²½ëœë‹¤ë©´ effect ì‹¤í–‰
```

### useMemo

useMemo ëŠ” ì´ì „ì— ê³„ì‚°í–ˆë˜ ê°’ì„ ë©”ëª¨ë¦¬ì— ì €ìž¥í•´ë‘ê³  ë‹¤ì‹œ ì‚¬ìš©í•˜ëŠ” 'ë©”ëª¨ì´ì œì´ì…˜' ê¸°ë²•ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. íŠ¹ì • ê°’ì´ ë³€ê²½ëì„ ë•Œ ê³„ì‚°ì„ ë‹¤ì‹œ í•´ì•¼í•œë‹¤ë©´ ë‘ë²ˆì§¸ ì¸ìžë¡œ ê°’ë“¤ì„ ë„˜ê²¨ì¤„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

```jsx
const momoizedValue = useMemo(
  () => {
    // ê³„ì‚°
    return value
  },
  [
    /* deps */
  ]
)
```

### useCallback

useCallback ì€ 'ë©”ëª¨ì´ì œì´ì…˜' ëœ ì½œë°±ì„ ë°˜í™˜í•©ë‹ˆë‹¤. ì»´í¬ë„ŒíŠ¸ì˜ props ë‚˜ state ê°€ ë³€ê²½ëì„ ë•Œ ë¦¬ë Œë”ë§ ë˜ê¸° ë§ˆë ¨ì¸ë°, ê·¸ë•Œë§ˆë‹¤ í•¨ìˆ˜ë¥¼ ë‹¤ì‹œ ìƒì„±í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼ ë©”ëª¨í•´ë†“ê³  ë©”ëª¨ëœ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ë‘ë²ˆì§¸ ì¸ìžë¡œëŠ” ë©”ëª¨ì´ì œì´ì…˜ëœ ì½œë°±ì—ì„œ ì‚¬ìš©í•  ê°’(ì˜ì¡´ì„±)ë“¤ì„ ë„£ì–´ì¤ë‹ˆë‹¤. ê·¸ë ‡ê²Œë˜ë©´ ê°’ì´ ë³€ê²½ë  ë•Œ useCallback ì€ ìƒˆë¡œìš´ ì½œë°±ì„ ë°˜í™˜í•  ê²ë‹ˆë‹¤.

```jsx
const memoizedCallback = useCallback(() => {
  // ...
}, [deps])
```

## ì°¸ê³ ë¬¸ì„œ

- [React - Hooks API Reference](https://ko.reactjs.org/docs/hooks-reference.html)
